<?xml version="1.0" encoding="UTF-8"?>

<?import com.jfoenix.controls.JFXSlider?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.ChoiceBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Spinner?>
<?import javafx.scene.control.SplitPane?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.TitledPane?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<BorderPane style="-fx-padding: 5" xmlns="http://javafx.com/javafx/8.0.171" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.xwintop.xJavaFxTool.controller.littleTools.ImageToolController">
    <center>
        <SplitPane dividerPositions="0.5" style="-fx-box-border: transparent;">
            <VBox spacing="5">
                <HBox spacing="5">
                    <Button fx:id="addImageButton" mnemonicParsing="false" onAction="#addImageAction" text="添加图片..." />
                    <Button fx:id="openFolderButton" mnemonicParsing="false" onAction="#openFolderAction" text="打开文件夹..." />
                </HBox>
                <TableView fx:id="tableViewMain" minWidth="300.0" VBox.vgrow="ALWAYS">
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                    </columnResizePolicy>
                </TableView>
            </VBox>
            <SplitPane dividerPositions="0.5" orientation="VERTICAL">
                <VBox spacing="5" style="-fx-padding: 5">
                    <Label text="原图预览" />
                    <ScrollPane pannable="true" VBox.vgrow="ALWAYS">
                        <ImageView fx:id="originalImageView" />
                    </ScrollPane>
                </VBox>
                <VBox spacing="5" style="-fx-padding: 5">
                    <Label text="压缩后预览" />
                    <ScrollPane pannable="true" VBox.vgrow="ALWAYS">
                        <ImageView fx:id="outputImageView" />
                    </ScrollPane>
                </VBox>
            </SplitPane>
        </SplitPane>
    </center>
    <bottom>
        <HBox spacing="5.0" style="-fx-padding: 5 0 0 0">
            <TitledPane collapsible="false" prefHeight="140" text="压缩选项">
                <VBox spacing="10">
                    <HBox alignment="BASELINE_RIGHT">
                        <Label text="输出格式：" />
                        <ChoiceBox fx:id="formatChoiceBox" prefWidth="180" />
                    </HBox>
                    <HBox alignment="TOP_RIGHT" prefHeight="60">
                        <Label text="质量：" />
                        <JFXSlider fx:id="qualitySlider" blockIncrement="1.0" indicatorPosition="RIGHT" majorTickUnit="20" minorTickCount="10" prefWidth="180" showTickLabels="true" showTickMarks="true" value="80.0" />
                    </HBox>
                    <HBox alignment="TOP_RIGHT" prefHeight="60">
                        <Label text="旋转：" />
                        <JFXSlider fx:id="rotateSlider" blockIncrement="1.0" indicatorPosition="RIGHT" majorTickUnit="90.0" max="360.0" minorTickCount="10" prefWidth="180" showTickLabels="true" showTickMarks="true" value="0" />
                    </HBox>
                </VBox>
            </TitledPane>
            <TitledPane collapsible="false" prefHeight="140" text="图片大小">
                <VBox spacing="5">
                    <HBox alignment="BASELINE_LEFT" spacing="5">
                        <CheckBox fx:id="isResizeCheckBox" text="调整大小" />
                        <ChoiceBox fx:id="resizeModeChoiceBox" prefWidth="100" />
                    </HBox>
                    <CheckBox fx:id="keepAspectRatioCheckBox" selected="true" text="保持图片宽高比" />
                    <HBox spacing="5">
                        <VBox spacing="5">
                            <Label text="宽度：" />
                            <Spinner fx:id="scaleWidthSpinner" editable="true" prefWidth="100"/>
                        </VBox>
                        <VBox spacing="5">
                            <Label text="高度：" />
                            <Spinner fx:id="scaleHeightSpinner" editable="true" prefWidth="100" />
                        </VBox>
                    </HBox>
                </VBox>
            </TitledPane>
            <TitledPane collapsible="false" prefHeight="140" text="输出">
                <VBox spacing="5">
                    <Label text="新文件名后缀：" />
                    <TextField fx:id="suffixNameTextField" text="_new" />
                    <HBox alignment="BASELINE_LEFT" spacing="5">
                        <Label text="输出文件夹：" />
                        <CheckBox fx:id="sameFolderAsInput" selected="true" text="图片所在文件夹" />
                        <Button fx:id="openOutputFolderButton" mnemonicParsing="false" onAction="#openOutputFolderAction" text="打开输出文件夹" />
                    </HBox>
                    <HBox spacing="5">
                        <TextField fx:id="outputFolderTextField" prefWidth="300" promptText="为空表示输出到图片所在文件夹" />
                        <Button fx:id="outputFolderButton" onAction="#outputFolderAction" text="..." />
                    </HBox>
                </VBox>
            </TitledPane>
            <VBox spacing="5">
                <Button fx:id="imageCompressionButton" mnemonicParsing="false" onAction="#imageCompressionAction" style="-fx-font-weight: bold; -fx-label-padding: 5 8" text="开始压缩" />
                <Button fx:id="refreshPreviewButton" mnemonicParsing="false" onAction="#refreshPreviewAction" style="-fx-font-weight: bold; -fx-label-padding: 5 8" text="刷新预览" />
            </VBox>
        </HBox>
    </bottom>
</BorderPane>
